(this.webpackJsonproybotapp=this.webpackJsonproybotapp||[]).push([[0],{196:function(e,t,a){e.exports=a(304)},304:function(e,t,a){"use strict";a.r(t);a(197),a(223),a(225),a(226),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265);var n=a(0),s=a.n(n),i=a(82),r=a.n(i),o=a(51),c=a.n(o),l=a(83),u=a.n(l),d=a(114),m=a(12),p=a(13),h=a(5),v=a(16),b=a(15),f=a(119),y=a.n(f),g=a(118),E=a.n(g),O=(a(274),a(52)),I=a.n(O),j=a(53),C=a.n(j),k=a(21),T=a.n(k),x=a(29),P=a.n(x),w=a(63),N=a.n(w),S=a(10),q=a.n(S),_=a(115),A=a.n(_),F=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"queryGET",value:function(e){var t=new XMLHttpRequest;return t.open("GET","https://pavlentygood.fvds.ru/query.php?method=GET&url=".concat(encodeURIComponent(e)),!1),t.send(),t.responseText}},{key:"queryPOST",value:function(e,t){var a=new XMLHttpRequest;return a.open("POST","https://pavlentygood.fvds.ru/query.php?method=POST&url=".concat(encodeURIComponent(e)),!1),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(t)),a.responseText}},{key:"queryPUT",value:function(e,t){var a=new XMLHttpRequest;return a.open("POST","https://pavlentygood.fvds.ru/query.php?method=PUT&url=".concat(encodeURIComponent(e)),!1),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(t)),a.responseText}},{key:"queryDELETE",value:function(e){var t=new XMLHttpRequest;return t.open("GET","https://pavlentygood.fvds.ru/query.php?method=DELETE&url=".concat(encodeURIComponent(e)),!1),t.setRequestHeader("Content-Type","application/json"),t.send(),t.responseText}},{key:"getUser",value:function(e){return JSON.parse(this.queryGET("app_info?userId=".concat(e)))}},{key:"getAllCommands",value:function(){return JSON.parse(this.queryGET("simple_command"))}},{key:"addCommand",value:function(e){this.queryPOST("simple_command",e)}},{key:"updateCommand",value:function(e){this.queryPUT("simple_command",e)}},{key:"deleteCommand",value:function(e){this.queryDELETE("simple_command?id=".concat(e))}}]),e}(),H=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this)).state={dbinfo:F.getUser(e.userId)},n}return Object(p.a)(a,[{key:"render",value:function(){var e;return s.a.createElement(I.a,{id:this.props.id},this.props.user&&s.a.createElement(P.a,null,s.a.createElement(C.a,null,"RoyBot"),s.a.createElement(N.a,{before:s.a.createElement(A.a,{src:this.props.user.photo_200}),description:null!==(e=this.state.dbinfo.Nick)&&void 0!==e?e:"\u041d\u0435\u0442 \u043d\u0438\u043a\u0430"},"".concat(this.props.user.first_name," ").concat(this.props.user.last_name)),s.a.createElement(q.a,null,s.a.createElement(T.a,{size:"l",level:"2",onClick:this.props.go,"data-to":"com_list"},"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u043a\u043e\u043c\u0430\u043d\u0434"))))}}]),a}(s.a.Component),U=a(9),R=a(66),D=a.n(R),z=a(64),V=a.n(z),L=a(65),M=a.n(L),G=a(44),J=a.n(G),B=Object(U.f)(),X=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).openCommand=e.openCommand.bind(Object(h.a)(e)),e}return Object(p.a)(a,[{key:"openCommand",value:function(e){var t=this,a=e.currentTarget.dataset.comindex;this.props.app.setState((function(e){return e.activePanel="com_editor",t.props.app.command=t.props.app.comArr[a],e}))}},{key:"render",value:function(){var e=this;return this.props.app.comArr=F.getAllCommands(),s.a.createElement(I.a,{id:this.props.id},s.a.createElement(C.a,{left:s.a.createElement(D.a,{onClick:this.props.go,"data-to":"home"},B===U.c?s.a.createElement(V.a,null):s.a.createElement(M.a,null))},"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u043a\u043e\u043c\u0430\u043d\u0434"),s.a.createElement(P.a,null,s.a.createElement(q.a,null,s.a.createElement(T.a,{size:"l",onClick:this.props.go,"data-to":"com_constructor"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443")),s.a.createElement(q.a,null,s.a.createElement(J.a,null,this.props.app.comArr.map((function(t,a){return s.a.createElement(N.a,{onClick:e.openCommand,"data-comindex":a},t.Name)}))))))}}]),a}(s.a.Component),K=a(50),W=a.n(K),Q=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).setItem=e.setItem.bind(Object(h.a)(e)),e}return Object(p.a)(a,[{key:"setItem",value:function(){var e=this;this.props.cc.setState((function(t){return t[e.props.item.name].status=!t[e.props.item.name].status,t}))}},{key:"render",value:function(){var e,t;return s.a.createElement(q.a,{hidden:null===(e=this.props)||void 0===e||null===(t=e.item)||void 0===t?void 0:t.status},s.a.createElement(T.a,{size:"l",onClick:this.setItem,disabled:this.props.disabled,mode:this.props.item.status?"destructive":"commerce"},"".concat(this.props.item.status?"\u0423\u0431\u0440\u0430\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"," ").concat(this.props.item.rusName)))}}]),a}(s.a.Component),Y=a(117),Z=a.n(Y),$=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this)).state={item:e.item},n.selectItemType=n.selectItemType.bind(Object(h.a)(n)),n.setFieldHidden=n.setFieldHidden.bind(Object(h.a)(n)),n.changeField=n.changeField.bind(Object(h.a)(n)),n.deleteItem=n.deleteItem.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"selectItemType",value:function(e){var t=this,a=e.target.value;this.props.cc.setState((function(e){return t.state.item.type=0==a.length?null:a,e}))}},{key:"setFieldHidden",value:function(e){return!(this.state.item.type==e)}},{key:"changeField",value:function(e){var t=this,a=e.currentTarget.name,n=e.currentTarget.value;this.props.cc.setState((function(e){return""!=n&&"text"!=a&&isNaN(n)||(t.state.item[a]=n),e}))}},{key:"deleteItem",value:function(){var e=this;this.props.cc.setState((function(t){return e.state.item.status=!1,t}))}},{key:"render",value:function(){return s.a.createElement(P.a,{hidden:!this.state.item.status,header:s.a.createElement(Z.a,{mode:"secondary"},this.state.item.rusName,s.a.createElement(T.a,{size:"s",mode:"destructive",onClick:this.deleteItem},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))},this.fields())}}]),a}(s.a.Component),ee=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"fields",value:function(){return s.a.createElement(J.a,null,s.a.createElement(q.a,null,s.a.createElement(U.d,{type:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b",name:"text",value:this.state.item.text,onChange:this.changeField})))}}]),a}($),te=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"fields",value:function(){return s.a.createElement(J.a,null,s.a.createElement(q.a,null,s.a.createElement(U.e,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f",value:this.state.item.type,onChange:this.selectItemType},s.a.createElement("option",{value:"id"},"\u041f\u043e ID"),s.a.createElement("option",{value:"last"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439"),s.a.createElement("option",{value:"pinned"},"\u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0439"),s.a.createElement("option",{value:"number"},"\u041f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u043e\u043c\u0443 \u043d\u043e\u043c\u0435\u0440\u0443"))),s.a.createElement(q.a,{hidden:null==this.state.item.type},s.a.createElement(U.d,{type:"text",placeholder:"ID \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430",name:"owner",value:this.state.item.owner,onChange:this.changeField})),s.a.createElement(q.a,{hidden:this.setFieldHidden("id")},s.a.createElement(U.d,{type:"text",placeholder:"ID \u043f\u043e\u0441\u0442\u0430",name:"id",value:this.state.item.id,onChange:this.changeField})),s.a.createElement(q.a,{hidden:this.setFieldHidden("number")},s.a.createElement(U.d,{type:"text",placeholder:"\u041f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",name:"number",value:this.state.item.number,onChange:this.changeField})))}}]),a}($),ae=a(84),ne=a(120),se=a(49),ie=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getIdsMap=n.getIdsMap.bind(Object(h.a)(n)),n.addId=n.addId.bind(Object(h.a)(n)),n.deleteId=n.deleteId.bind(Object(h.a)(n)),n.changeId=n.changeId.bind(Object(h.a)(n)),n.checkIdsCount=n.checkIdsCount.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"selectItemType",value:function(e){Object(ne.a)(Object(se.a)(a.prototype),"selectItemType",this).call(this,e),"id"==e.target.value&&0==this.state.item.ids.length?this.addId():this.state.item.ids.length>0&&this.deleteId()}},{key:"changeId",value:function(e){var t=this,a=e.currentTarget.name,n=e.currentTarget.value;this.props.cc.setState((function(e){return""!=n&&isNaN(n)||(t.state.item.ids[a]=n),e}))}},{key:"getIdsMap",value:function(){var e=this;return this.state.item.ids.map((function(t,a){var n;return s.a.createElement(q.a,{hidden:e.setFieldHidden("id")},s.a.createElement(U.d,(n={name:a,value:t,type:"text",placeholder:"ID \u043c\u0435\u0434\u0438\u0430\u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f"},Object(ae.a)(n,"value",e.state.item.ids[a]),Object(ae.a)(n,"onChange",e.changeId),n)))}))}},{key:"addId",value:function(e){var t=this;this.props.cc.setState((function(e){return t.state.item.ids.push(""),e}))}},{key:"deleteId",value:function(e){var t=this;this.props.cc.setState((function(e){return t.state.item.ids.pop(),e}))}},{key:"checkIdsCount",value:function(){var e=0;return this.props.cc.idsItems.forEach((function(t){return e+=t.ids.length})),e<10}},{key:"fields",value:function(){return s.a.createElement(J.a,null,s.a.createElement(q.a,null,s.a.createElement(U.e,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f",value:this.state.item.type,onChange:this.selectItemType},s.a.createElement("option",{value:"id"},"\u041f\u043e ID"),s.a.createElement("option",{value:"random"},"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435"))),s.a.createElement(q.a,{hidden:null==this.state.item.type},s.a.createElement(U.d,{type:"text",placeholder:"ID \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430",name:"owner",value:this.state.item.owner,onChange:this.changeField})),s.a.createElement(q.a,{hidden:this.setFieldHidden("random")},s.a.createElement(U.d,{type:"text",placeholder:"ID \u0430\u043b\u044c\u0431\u043e\u043c\u0430",name:"album",value:this.state.item.album,onChange:this.changeField})),this.getIdsMap(),s.a.createElement(q.a,{hidden:this.setFieldHidden("id")},s.a.createElement(T.a,{size:"s",disabled:!this.checkIdsCount(),onClick:this.addId},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ID"),s.a.createElement(T.a,{size:"s",mode:"destructive",disabled:this.state.item.ids.length<=1,onClick:this.deleteId},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c ID")))}}]),a}($),re=Object(U.f)(),oe=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={id:null,comName:"",text:{name:"text",rusName:"\u0442\u0435\u043a\u0441\u0442",status:!1,text:""},post:{name:"post",rusName:"\u043f\u043e\u0441\u0442",status:!1,type:null,owner:"",id:"",number:""},image:{name:"image",rusName:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",status:!1,type:null,owner:"",album:"",ids:[]},video:{name:"video",rusName:"\u0432\u0438\u0434\u0435\u043e",status:!1,type:null,owner:"",album:"",ids:[]}},n.idsItems=[n.state.image,n.state.video],n.changeName=n.changeName.bind(Object(h.a)(n)),n.validateEmpty=n.validateEmpty.bind(Object(h.a)(n)),n.getAlert=n.getAlert.bind(Object(h.a)(n)),n.validateStatus=n.validateStatus.bind(Object(h.a)(n)),n.validate=n.validate.bind(Object(h.a)(n)),n.deleteCommand=n.deleteCommand.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"changeName",value:function(e){var t=this,a=e.currentTarget.value;this.setState((function(e){return a.includes(" ")||a.includes("\n")||(t.state.comName=a.toLowerCase()),e}))}},{key:"validateStatus",value:function(){var e=[this.state.text,this.state.post,this.state.image,this.state.video];for(var t in e){if(e[t].status)return!0}return!1}},{key:"validateEmpty",value:function(){var e=[];if(this.state.text.status&&e.push(this.state.text.text),this.state.post.status)switch(e.push(this.state.post.owner),this.state.post.type){case"id":e.push(this.state.post.id);break;case"number":e.push(this.state.post.number)}if(this.state.image.status&&(e.push(this.state.image.owner),"id"===this.state.image.type))for(var t in this.state.image.ids)e.push(this.state.image.ids[t]);if(this.state.video.status&&(e.push(this.state.video.owner),"id"===this.state.video.type))for(var t in this.state.video.ids)e.push(this.state.video.ids[t]);for(var t in e){var a=e[t];if(null==a||""==a.trim())return!1}return!0}},{key:"getAlert",value:function(e){var t=this;return s.a.createElement(W.a,{actions:[{title:"\u041e\u041a",mode:"cancel",autoclose:!0}],onClose:function(){return t.props.app.setPopout(null)}},s.a.createElement("p",null,e))}},{key:"validate",value:function(){var e=this,t=function(t){return e.props.app.setPopout(e.getAlert(t))};return null==this.state.comName||""==this.state.comName.trim()?t("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!"):this.validateStatus()?this.validateEmpty()?void this.prepareCommandBody():t("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b!"):t("\u041e\u0442\u0432\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!")}},{key:"prepareCommandBody",value:function(){var e=function(e){return Number(null!==e&&void 0!==e?e:0)},t=function(e){return e.map((function(e){return null!==e&&void 0!==e?e:0})).join(" ")},a=function(e){return null!=e.type&&e.type.length>0},n={Id:this.state.id,Name:this.state.comName,Text:this.state.text.text,Author:{Id:e(this.props.userId)},Post:a(this.state.post)?{Type:this.state.post.type,OwnerId:e(this.state.post.owner),PostId:e(this.state.post.id),Number:e(this.state.post.number)}:null,Image:a(this.state.image)?{Type:this.state.image.type,OwnerId:e(this.state.image.owner),AlbumId:e(this.state.image.album),Ids:t(this.state.image.ids)}:null,Video:a(this.state.video)?{Type:this.state.video.type,OwnerId:e(this.state.video.owner),AlbumId:e(this.state.video.album),Ids:t(this.state.video.ids)}:null};this.action(n)}},{key:"deleteCommand",value:function(){var e=this;F.deleteCommand(this.state.id),this.props.app.go({currentTarget:{dataset:{to:"com_list"}}}),this.props.app.setPopout(s.a.createElement(W.a,{actions:[{title:"\u041e\u041a",mode:"cancel",autoclose:!0}],onClose:function(){return e.props.app.setPopout(null)}},s.a.createElement("p",null,"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430!")))}},{key:"render",value:function(){return s.a.createElement(I.a,{id:this.props.id},s.a.createElement(C.a,{left:s.a.createElement(D.a,{onClick:this.props.go,"data-to":"com_list"},re===U.c?s.a.createElement(V.a,null):s.a.createElement(M.a,null))},this.header),s.a.createElement(U.a,null,s.a.createElement(U.b,null,s.a.createElement(P.a,null,s.a.createElement(q.a,null,s.a.createElement(U.d,{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b",value:this.state.comName,onChange:this.changeName}))),s.a.createElement(ee,{cc:this,item:this.state.text}),s.a.createElement(te,{cc:this,item:this.state.post}),s.a.createElement(ie,{cc:this,item:this.state.image}),s.a.createElement(ie,{cc:this,item:this.state.video}))),s.a.createElement(q.a,null,s.a.createElement(P.a,null,s.a.createElement(Q,{cc:this,item:this.state.text}),s.a.createElement(Q,{cc:this,item:this.state.post}),s.a.createElement(Q,{cc:this,item:this.state.image}),s.a.createElement(Q,{cc:this,item:this.state.video})),s.a.createElement(P.a,null,s.a.createElement(q.a,null,s.a.createElement(T.a,{size:"xl",onClick:this.validate},this.actionText))),s.a.createElement(P.a,null,s.a.createElement(q.a,null,s.a.createElement(T.a,{hidden:null==this.state.id,style:{color:"red"},size:"l",mode:"tertiary",onClick:this.deleteCommand},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443")))))}}]),a}(s.a.Component),ce=(Object(U.f)(),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).header="\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b",n.actionText="\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443",n}return Object(p.a)(a,[{key:"createCommand",value:function(e){var t=this;F.addCommand(e),this.props.app.go({currentTarget:{dataset:{to:"com_list"}}}),this.props.app.setPopout(s.a.createElement(W.a,{actions:[{title:"\u041e\u041a",mode:"cancel",autoclose:!0}],onClose:function(){return t.props.app.setPopout(null)}},s.a.createElement("p",null,"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430!")))}},{key:"action",value:function(e){this.createCommand(e)}}]),a}(oe)),le=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(m.a)(this,a),(n=t.call(this,e)).header="\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\u044b",n.actionText="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c";var s=e.app.command;return n.state.comName=s.Name,n.state.id=s.Id,null!=s.Text&&(n.state.text.status=!0,n.state.text.text=s.Text),null!=s.Post&&(n.state.post.status=!0,n.state.post.type=s.Post.Type,n.state.post.owner=s.Post.OwnerId+"",n.state.post.id=s.Post.PostId+"",n.state.post.number=s.Post.Number+""),null!=s.Image&&(n.state.image.status=!0,n.state.image.type=s.Image.Type,n.state.image.owner=s.Image.OwnerId+"",n.state.image.ids=s.Image.Ids.split(" ").map((function(e){return e+""})),n.state.image.album=s.Image.AlbumId+""),null!=s.Video&&(n.state.video.status=!0,n.state.video.type=s.Video.Type,n.state.video.owner=s.Video.OwnerId+"",n.state.video.ids=s.Video.Ids.split(" ").map((function(e){return e+""})),n.state.video.album=s.Video.AlbumId+""),n}return Object(p.a)(a,[{key:"updateCommand",value:function(e){var t=this;F.updateCommand(e),this.props.app.go({currentTarget:{dataset:{to:"com_list"}}}),this.props.app.setPopout(s.a.createElement(W.a,{actions:[{title:"\u041e\u041a",mode:"cancel",autoclose:!0}],onClose:function(){return t.props.app.setPopout(null)}},s.a.createElement("p",null,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!")))}},{key:"action",value:function(e){this.updateCommand(e)}}]),a}(oe),ue=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;function n(){return(n=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.send("VKWebAppGetUserInfo");case 2:a=e.sent,t.setState((function(e){return e.fetchedUser=a,e.popout=null,e}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.a)(this,a),(e=t.call(this)).state={fetchedUser:null,activePanel:"home",popout:s.a.createElement(E.a,{size:"large"})},e.getParam=e.getParam.bind(Object(h.a)(e)),e.go=e.go.bind(Object(h.a)(e)),e.setPopout=e.setPopout.bind(Object(h.a)(e)),function(e){n.apply(this,arguments)}(Object(h.a)(e)),e}return Object(p.a)(a,[{key:"getParam",value:function(e){var t=window.location.search;return!!(t=t.match(new RegExp(e+"=([^&=]+)")))&&t[1]}},{key:"go",value:function(e){var t=e.currentTarget.dataset.to;this.setState((function(e){return e.activePanel=t,e}))}},{key:"setPopout",value:function(e){this.setState((function(t){return t.popout=e,t}))}},{key:"render",value:function(){var e=this.getParam("user_id");return s.a.createElement(y.a,{activePanel:this.state.activePanel,popout:this.state.popout},s.a.createElement(H,{id:"home",user:this.state.fetchedUser,go:this.go,userId:e,app:this}),s.a.createElement(X,{id:"com_list",go:this.go,userId:e,app:this}),s.a.createElement(ce,{id:"com_constructor",go:this.go,userId:e,app:this}),s.a.createElement(le,{id:"com_editor",go:this.go,userId:e,app:this}))}}]),a}(s.a.Component);c.a.send("VKWebAppInit"),c.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var s=document.createAttribute("scheme");s.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(s)}})),r.a.render(s.a.createElement(ue,null),document.getElementById("root"))}},[[196,1,2]]]);
//# sourceMappingURL=main.82f8e389.chunk.js.map